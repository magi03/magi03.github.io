<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Favicon -->
    <link rel="icon" href="image_0c25c6.jpg" type="image/jpeg">

    <title>Шарена Премяна | Ръчно изработени кукли</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'bg-cream': '#f9f7f2',     
                        'brand-red': '#9e2a2b',    
                        'brand-brown': '#4a3b32',  
                        'brand-gold': '#d4a373',   
                    },
                    fontFamily: {
                        sans: ['Lato', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    }
                }
            }
        }
    </script>

    <style>
        /* Fade in animation */
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .nav-link { position: relative; }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 2px; bottom: -2px; left: 0; background-color: #9e2a2b; transition: width 0.3s ease; }
        .nav-link:hover::after { width: 100%; }
        .nav-link.active::after { width: 100%; }

        .doll-card { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .doll-card:hover { transform: translateY(-8px); box-shadow: 0 20px 30px -10px rgba(0, 0, 0, 0.15); }

        .elegant-quote { position: relative; border-top: 1px solid #d4a373; border-bottom: 1px solid #d4a373; padding: 2rem 0; }
        .elegant-quote::before { content: '❦'; position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: #f9f7f2; padding: 0 15px; color: #d4a373; font-size: 1.5rem; }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body class="bg-bg-cream text-brand-brown font-sans antialiased flex flex-col min-h-screen">

    <!-- NAVIGATION -->
    <nav class="sticky top-0 z-40 w-full bg-white/95 backdrop-blur-md border-b border-brand-gold/20 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20 md:h-24">
                
                <!-- LEFT: Logo & Name -->
                <a href="#home" class="flex-shrink-0 flex items-center cursor-pointer group" onclick="closeMobileMenu()">
                    <div class="relative">
                        <img src="image_0c25c6.jpg" onerror="this.style.display='none'; document.getElementById('fallback-logo').classList.remove('hidden');" alt="Лого" class="h-12 md:h-16 w-auto object-contain mr-3 md:mr-4 transition transform group-hover:scale-105">
                        <div id="fallback-logo" class="hidden h-10 w-10 md:h-12 md:w-12 bg-brand-red/10 rounded-full flex items-center justify-center mr-4 text-brand-red">
                             <i data-lucide="flower-2" class="w-6 h-6 md:w-8 md:h-8"></i>
                        </div>
                    </div>
                    <div class="flex flex-col justify-center">
                        <span class="font-serif font-bold text-xl md:text-2xl tracking-tight text-brand-red uppercase leading-none">Шарена</span>
                        <span class="font-serif text-sm md:text-lg tracking-widest text-brand-brown uppercase leading-none mt-1">Премяна</span>
                    </div>
                </a>
                
                <!-- DESKTOP MENU -->
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="#home" class="nav-link font-sans font-medium text-gray-700 hover:text-brand-red transition uppercase tracking-wider text-sm">Начало</a>
                    <a href="#about" class="nav-link font-sans font-medium text-gray-700 hover:text-brand-red transition uppercase tracking-wider text-sm">За мен</a>
                    <a href="#gallery" class="nav-link font-sans font-medium text-gray-700 hover:text-brand-red transition uppercase tracking-wider text-sm">Кукли</a>
                    <a href="#contacts" class="nav-link font-sans font-medium text-gray-700 hover:text-brand-red transition uppercase tracking-wider text-sm">Контакти</a>
                    <a href="https://forms.gle/UuWF2rPeydeK2qTQ8" target="_blank" class="px-6 py-3 bg-brand-red text-white font-sans font-bold text-sm rounded-sm shadow-md hover:bg-brand-brown transition duration-300 uppercase tracking-wider flex items-center gap-2">
                        <span>Поръчай</span>
                        <i data-lucide="external-link" class="w-4 h-4"></i>
                    </a>
                </div>

                <!-- MOBILE MENU BUTTON (The Hamburger Icon) -->
                <div class="md:hidden flex items-center">
                     <button onclick="toggleMobileMenu()" class="text-brand-brown hover:text-brand-red p-2 focus:outline-none">
                        <i data-lucide="menu" class="w-8 h-8"></i>
                     </button>
                </div>
            </div>
        </div>

        <!-- MOBILE DROPDOWN LIST -->
        <div id="mobile-menu" class="hidden md:hidden absolute top-full left-0 w-full bg-white border-b border-brand-gold/20 shadow-lg">
            <div class="flex flex-col px-4 py-6 space-y-4">
                <a href="#home" onclick="closeMobileMenu()" class="text-lg font-bold text-gray-700 uppercase tracking-wider border-b border-gray-100 pb-2">Начало</a>
                <a href="#about" onclick="closeMobileMenu()" class="text-lg font-bold text-gray-700 uppercase tracking-wider border-b border-gray-100 pb-2">За мен</a>
                <a href="#gallery" onclick="closeMobileMenu()" class="text-lg font-bold text-gray-700 uppercase tracking-wider border-b border-gray-100 pb-2">Кукли</a>
                <a href="#contacts" onclick="closeMobileMenu()" class="text-lg font-bold text-gray-700 uppercase tracking-wider border-b border-gray-100 pb-2">Контакти</a>
                <a href="https://forms.gle/UuWF2rPeydeK2qTQ8" target="_blank" onclick="closeMobileMenu()" class="text-lg font-bold text-brand-red uppercase tracking-wider flex items-center gap-2">
                    Поръчай <i data-lucide="external-link" class="w-4 h-4"></i>
                </a>
            </div>
        </div>
    </nav>

    <!-- PAGE CONTAINER -->
    <div id="app-content" class="flex-grow">
        
        <!-- PAGE: HOME -->
        <section id="page-home" class="page-section hidden fade-in">
            <header class="relative py-16 lg:py-28 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]">
                <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
                    <h1 class="text-4xl md:text-7xl font-serif font-bold text-brand-brown mb-8 md:mb-12 leading-tight">
                        <span class="block text-brand-red mb-2">Българска</span>
                        <span class="block relative inline-block">
                            Традиция
                            <svg class="absolute w-full h-2 md:h-3 -bottom-2 left-0 text-brand-gold opacity-60" viewBox="0 0 200 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.00025 6.99997C18.5002 4.50002 54.4999 1.99998 97.9997 3.49999C141.499 4.99999 182.499 7.50002 198.001 8.50002" stroke="currentColor" stroke-width="3"/></svg>
                        </span>
                    </h1>
                    
                    <div class="max-w-2xl mx-auto my-8 md:my-12 elegant-quote px-4">
                        <p class="text-xl md:text-3xl text-brand-brown font-serif italic leading-relaxed">
                            Добре дошли в сайта на <span class="text-brand-red">Шарена Премяна</span>.
                        </p>
                        <div class="w-12 h-px bg-brand-brown/30 mx-auto my-4"></div>
                        <p class="text-xs md:text-base text-gray-500 uppercase tracking-widest font-sans">
                            Подарете спомен с душа. Нашите кукли с традиционни носии са перфектният подарък, който носи в себе си топлината, багрите и вековните символи на българския бит.
                            <br class="mt-2 block"/> ~Времето за изработка е около 10 дни~
                        </p>
                    </div>
                    
                    <div class="mt-8 md:mt-12 flex flex-col sm:flex-row justify-center gap-4">
                        <a href="#gallery" class="px-8 py-4 bg-brand-brown text-white font-bold shadow-lg hover:bg-brand-red transition transform hover:-translate-y-1 rounded-sm uppercase tracking-wider">
                            Изберете своята кукла
                        </a>
                        <a href="#booklet" onclick="alert('Тук ще се отвори PDF каталог.')" class="px-8 py-4 bg-white border border-brand-brown text-brand-brown font-bold shadow hover:bg-gray-50 transition transform hover:-translate-y-1 rounded-sm uppercase tracking-wider flex items-center justify-center gap-2">
                            <i data-lucide="book-open" class="w-5 h-5"></i>
                            Книжка
                        </a>
                    </div>
                </div>
            </header>

            <!-- SLIDER SECTION -->
            <div class="bg-white py-12 md:py-16">
                <div class="max-w-7xl mx-auto px-4 relative group">
                    <h2 class="text-2xl md:text-3xl font-serif font-bold text-brand-brown mb-8 text-center">Избрано за вас</h2>
                    
                    <!-- Left Arrow Button (Always Visible) -->
                    <button id="slide-left" class="absolute left-1 md:left-0 top-1/2 transform -translate-y-1/2 z-10 bg-white/90 p-2 rounded-full shadow-md text-brand-brown hover:bg-brand-red hover:text-white transition border border-gray-100">
                        <i data-lucide="chevron-left" class="w-6 h-6"></i>
                    </button>

                    <!-- The Slider Container -->
                    <div id="featured-slider" class="flex overflow-x-auto snap-x snap-mandatory scroll-smooth gap-6 pb-8 px-2 no-scrollbar">
                        <!-- Javascript will inject ALL dolls here automatically -->
                    </div>

                    <!-- Right Arrow Button (Always Visible) -->
                    <button id="slide-right" class="absolute right-1 md:right-0 top-1/2 transform -translate-y-1/2 z-10 bg-white/90 p-2 rounded-full shadow-md text-brand-brown hover:bg-brand-red hover:text-white transition border border-gray-100">
                        <i data-lucide="chevron-right" class="w-6 h-6"></i>
                    </button>
                    
                    <!-- Swipe hint -->
                    <p class="text-center text-gray-400 text-xs mt-2 italic md:hidden opacity-70">
                        <i data-lucide="move-horizontal" class="inline w-4 h-4 align-middle mr-1"></i>
                        Плъзнете за още
                    </p>
                </div>
            </div>
        </section>

        <!-- PAGE: ABOUT -->
        <section id="page-about" class="page-section hidden fade-in py-12 md:py-20 bg-white min-h-[60vh]">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 md:gap-16 items-center">
                    <div class="relative">
                        <div class="aspect-[3/4] bg-gray-200 rounded-lg overflow-hidden shadow-xl">
                            <img src="about_me.jpg" alt="Магдалина Николаева" class="w-full h-full object-cover">
                        </div>
                        <div class="hidden md:block absolute -bottom-6 -right-6 w-32 h-32 bg-brand-gold/20 rounded-full z-[-1]"></div>
                        <div class="hidden md:block absolute -top-6 -left-6 w-32 h-32 bg-brand-red/10 rounded-full z-[-1]"></div>
                    </div>
                    <div>
                        <h2 class="text-3xl md:text-4xl font-serif font-bold text-brand-brown mb-6">За Мен</h2>
                        <div class="w-16 h-1 bg-brand-red mb-8"></div>
                        <p class="text-base md:text-lg text-gray-600 mb-6 leading-relaxed">
                            Здравейте, казвам се Магдалина Николаева! Създадох „Шарена Премяна“ с много любов към българския фолклор и традиции. Всяка кукла е ръчно изработена с внимание към най-малкия детайл – от шевиците до накитите.
                        </p>
                        <p class="text-base md:text-lg text-gray-600 leading-relaxed mb-6">
                            Моята мисия е да запазя красотата на българската носия и да я предам във вашите домове като скъп спомен или уникален подарък.
                        </p>
                        <div class="p-6 bg-bg-cream border-l-4 border-brand-red">
                            <p class="italic text-brand-brown">"Всеки бод е история, всяка кукла е спомен."</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PAGE: GALLERY -->
        <section id="page-gallery" class="page-section hidden fade-in py-12 md:py-24 bg-bg-cream min-h-[60vh]">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12 md:mb-16">
                    <h2 class="text-3xl md:text-4xl font-serif font-bold text-brand-brown">Колекция Кукли</h2>
                    <p class="mt-4 text-gray-500 uppercase tracking-widest text-xs md:text-sm">Ръчна изработка • Уникални модели</p>
                </div>

                <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12">
                    <!-- Products injected via JS -->
                </div>
            </div>
        </section>

        <!-- PAGE: CONTACTS -->
        <section id="page-contacts" class="page-section hidden fade-in min-h-[60vh] flex items-center bg-brand-brown relative overflow-hidden">
            <div class="absolute top-0 left-0 w-64 h-64 bg-white/5 rounded-full -translate-x-1/2 -translate-y-1/2"></div>
            <div class="absolute bottom-0 right-0 w-96 h-96 bg-brand-red/20 rounded-full translate-x-1/3 translate-y-1/3"></div>

            <div class="max-w-3xl mx-auto px-4 py-16 relative z-10 w-full text-center">
                <h2 class="text-3xl md:text-4xl font-serif font-bold text-white mb-2">Контакти</h2>
                <div class="w-24 h-1 bg-brand-gold mx-auto mb-8"></div>
                
                <p class="text-white/90 text-lg md:text-xl mb-12 leading-relaxed font-light">
                    Имате въпроси или искате да обсъдим индивидуална поръчка? <br class="hidden md:block"/>
                    Свържете се с нас, ще се радваме да помогнем.
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 text-white max-w-2xl mx-auto mb-16">
                    <div class="flex flex-col items-center p-6 bg-white/10 rounded-lg backdrop-blur-sm hover:bg-white/20 transition">
                        <div class="w-12 h-12 bg-brand-red rounded-full flex items-center justify-center mb-4 shadow-lg">
                            <i data-lucide="phone" class="w-6 h-6 text-white"></i>
                        </div>
                        <p class="text-xs uppercase opacity-70 tracking-widest mb-1">Телефон</p>
                        <span class="text-xl font-medium">+359 892 339 018</span>
                    </div>
                    
                    <div class="flex flex-col items-center p-6 bg-white/10 rounded-lg backdrop-blur-sm hover:bg-white/20 transition">
                        <div class="w-12 h-12 bg-brand-red rounded-full flex items-center justify-center mb-4 shadow-lg">
                            <i data-lucide="mail" class="w-6 h-6 text-white"></i>
                        </div>
                        <p class="text-xs uppercase opacity-70 tracking-widest mb-1">Имейл</p>
                        <span class="text-xl font-medium">sharena_premqna@abv.bg</span>
                    </div>
                </div>

                <div class="border-t border-white/20 pt-8 inline-block w-full">
                    <p class="mb-6 text-sm font-bold uppercase tracking-widest text-brand-gold">Последвайте ни</p>
                    <div class="flex justify-center space-x-8">
                        <a href="#" class="text-white hover:text-brand-gold transition flex items-center gap-2 group">
                            <i data-lucide="instagram" class="w-6 h-6 group-hover:scale-110 transition"></i> 
                            <span class="hidden sm:inline">Instagram</span>
                        </a>
                        <a href="https://www.facebook.com/profile.php?id=61583263174209" target="_blank" class="text-white hover:text-brand-gold transition flex items-center gap-2 group">
                            <i data-lucide="facebook" class="w-6 h-6 group-hover:scale-110 transition"></i> 
                            <span class="hidden sm:inline">Facebook</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- FOOTER -->
    <footer class="bg-brand-brown text-white/40 py-8 border-t border-white/10 mt-auto">
        <div class="max-w-7xl mx-auto px-4 text-center text-xs uppercase tracking-widest">
            &copy; 2025 Шарена Премяна. Всички права запазени.
        </div>
    </footer>

    <!-- MODAL -->
    <div id="product-modal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="fixed inset-0 bg-gray-900/80 backdrop-blur-sm transition-opacity" onclick="closeModal()"></div>
        <div class="fixed inset-0 z-10 overflow-y-auto">
            <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
                <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-4xl">
                    <button type="button" class="absolute top-4 right-4 z-20 rounded-full bg-white/80 p-2 hover:bg-white transition" onclick="closeModal()">
                        <i data-lucide="x" class="w-6 h-6 text-gray-800"></i>
                    </button>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2">
                        <!-- Image Column with Thumbnails -->
                        <div class="flex flex-col h-full bg-gray-100">
                            <div class="h-64 md:h-[400px] relative w-full">
                                <img id="modal-image" src="" alt="Doll Detail" class="absolute inset-0 w-full h-full object-cover">
                            </div>
                            <!-- Thumbnails Container (Visible only if multiple images exist) -->
                            <div id="modal-thumbnails" class="flex gap-2 p-4 overflow-x-auto bg-gray-50 h-24 items-center hidden">
                                <!-- JS will inject thumbnails here -->
                            </div>
                        </div>
                        
                        <div class="px-8 py-10 md:p-12 flex flex-col justify-center">
                            <h3 class="text-2xl md:text-3xl font-serif font-bold text-brand-brown mb-2" id="modal-title">Title</h3>
                            <p class="text-brand-red font-serif text-2xl mb-6 italic" id="modal-price">Price</p>
                            <div class="prose prose-sm text-gray-600 mb-8">
                                <p id="modal-description" class="leading-relaxed text-lg font-light">Desc</p>
                            </div>
                            <div class="mt-auto">
                                <a href="https://forms.gle/UuWF2rPeydeK2qTQ8" target="_blank" class="w-full inline-flex justify-center items-center px-6 py-4 bg-brand-brown text-white font-bold uppercase tracking-wider text-sm rounded shadow hover:bg-brand-red transition duration-300">
                                    Поръчай тази кукла
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- MOBILE MENU TOGGLE ---
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }
        function closeMobileMenu() {
            document.getElementById('mobile-menu').classList.add('hidden');
        }

        // --- PAGE ROUTING LOGIC ---
        function showPage(pageId) {
            closeMobileMenu();
            document.querySelectorAll('.page-section').forEach(page => {
                page.classList.add('hidden');
            });
            const target = document.getElementById('page-' + pageId) || document.getElementById('page-home');
            target.classList.remove('hidden');
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('text-brand-red', 'active');
                if(link.getAttribute('href') === '#' + pageId) {
                    link.classList.add('text-brand-red', 'active');
                }
            });
            window.scrollTo(0,0);
        }

        window.addEventListener('hashchange', () => {
            const hash = window.location.hash.substring(1);
            showPage(hash || 'home');
        });

        window.addEventListener('load', () => {
            const hash = window.location.hash.substring(1);
            showPage(hash || 'home');
        });

        // --- DOLL DATA ---
        // NOTE: 'images' is now an ARRAY. Add more filenames separated by commas.
        const products = [
            {
                id: 1,
                title: "Кукла с шопска носия",
                price: " 25 €",
                images: ["kukla_shopska_nosiq_new_1.png"], // Add more like: ["img1.png", "img2.jpg"]
                shortDesc: "Ръчно изработена с автентични мотиви.",
                fullDesc: "Тази прекрасна кукла е облечена в традиционна шопска носия. Височина: 30см. Подходяща за подарък или колекция."
            },
            {
                id: 2,
                title: "Кукла с тракийска носия",
                price: " 25 €",
                images: ["kukla_trakiiska_nosiq_1_new_1.png", "kukla_trakiiska_nosiq_new_1.png"],
                shortDesc: "Богата орнаментика и пъстри цветове.",
                fullDesc: "Тракийската носия се отличава с богати бродерии. Куклата е изработена с любов и спазване на традициите."
            },
            {
                id: 3,
                title: "Кукла със северняшка носия",
                price: " 25 €",
                images: ["kukla_severnqshka_nosiq_new_1.png"],
                shortDesc: "Красотата на българската носия в една кукла.",
                fullDesc: "Вдъхновена от Сверна България, тази кукла носи усещане за уют и традиция."
            },
            {
                id: 4,
                title: "Кукла с шарена премяна",
                price: " 25 €",
                images: ["kukla_sharena_nosiq_new_1.png"],
                shortDesc: "Празнична носия с елече.",
                fullDesc: "Специална празнична кукла, облечена в празнична носия с елече."
            },
            {
                id: 5,
                title: "Кукла с ежедневна носия",
                price: " 25 €",
                images: ["kukla_ejednevna_nosiq_new_1.png"],
                shortDesc: "Семпла, ежедневна носия.",
                fullDesc: "Кукла показваща красотата в семплите детайли на ежедневните носии на българските моми."
            }
        ];

        // --- RENDER GALLERY GRID ---
        const grid = document.getElementById('product-grid');
        products.forEach(product => {
            const card = document.createElement('div');
            card.className = 'doll-card bg-white rounded-sm shadow-sm overflow-hidden group cursor-pointer';
            card.onclick = () => openModal(product);

            // Use the first image (images[0]) as the thumbnail
            card.innerHTML = `
                <div class="aspect-[3/4] relative overflow-hidden">
                    <img src="${product.images[0]}" alt="${product.title}" class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105">
                    <div class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                        <span class="bg-white text-brand-brown px-6 py-3 uppercase tracking-widest text-xs font-bold shadow-lg transform translate-y-4 group-hover:translate-y-0 transition-all duration-300">
                            Преглед
                        </span>
                    </div>
                </div>
                <div class="p-6 text-center">
                    <h3 class="text-xl font-serif font-bold text-gray-900 mb-2">${product.title}</h3>
                    <p class="text-brand-red font-bold text-lg mb-3">${product.price}</p>
                    <p class="text-gray-500 text-sm font-light line-clamp-2">${product.shortDesc}</p>
                </div>
            `;
            grid.appendChild(card);
        });

        // --- RENDER HOME SLIDER ---
        const slider = document.getElementById('featured-slider');
        products.forEach(product => {
            const slide = document.createElement('div');
            slide.className = 'flex-none w-full sm:w-1/2 md:w-1/3 lg:w-1/4 snap-center bg-gray-50 rounded-lg overflow-hidden cursor-pointer hover:shadow-lg transition group/slide';
            slide.onclick = () => { window.location.hash = 'gallery'; }; // Go to gallery on click

            // Use the first image (images[0])
            slide.innerHTML = `
                <div class="aspect-[3/4] relative overflow-hidden">
                    <img src="${product.images[0]}" alt="${product.title}" class="w-full h-full object-cover transition duration-500 group-hover/slide:scale-110">
                    <div class="absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover/slide:opacity-100 transition">
                         <span class="text-white font-bold uppercase tracking-widest border border-white px-4 py-2">Виж всички</span>
                    </div>
                </div>
                <div class="p-4 text-center">
                     <h4 class="font-bold text-brand-brown text-sm">${product.title}</h4>
                     <p class="text-brand-red text-xs mt-1 font-bold">${product.price}</p>
                </div>
            `;
            slider.appendChild(slide);
        });

        // Slider Navigation Logic
        const leftBtn = document.getElementById('slide-left');
        const rightBtn = document.getElementById('slide-right');
        
        if(leftBtn && rightBtn && slider) {
            leftBtn.onclick = () => {
                slider.scrollLeft -= slider.offsetWidth / 2;
            };
            rightBtn.onclick = () => {
                slider.scrollLeft += slider.offsetWidth / 2;
            };
        }


        // --- MODAL LOGIC (UPDATED FOR MULTIPLE IMAGES) ---
        const modal = document.getElementById('product-modal');
        const body = document.body;

        function openModal(product) {
            document.getElementById('modal-title').innerText = product.title;
            document.getElementById('modal-price').innerText = product.price;
            document.getElementById('modal-description').innerText = product.fullDesc;
            
            const mainImage = document.getElementById('modal-image');
            const thumbContainer = document.getElementById('modal-thumbnails');

            // 1. Set Main Image (Default to first)
            mainImage.src = product.images[0];

            // 2. Generate Thumbnails if more than 1 image
            thumbContainer.innerHTML = ''; // Clear old thumbs
            if (product.images.length > 1) {
                product.images.forEach(imgSrc => {
                    const thumb = document.createElement('img');
                    thumb.src = imgSrc;
                    thumb.className = "w-16 h-16 object-cover cursor-pointer border-2 border-transparent hover:border-brand-red rounded-md transition shrink-0";
                    thumb.onclick = () => { mainImage.src = imgSrc; }; // Switch main img on click
                    thumbContainer.appendChild(thumb);
                });
                thumbContainer.classList.remove('hidden');
            } else {
                thumbContainer.classList.add('hidden');
            }

            modal.classList.remove('hidden');
            body.classList.add('no-scroll');
        }

        function closeModal() {
            modal.classList.add('hidden');
            body.classList.remove('no-scroll');
        }

        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                closeModal();
            }
        });

        // Initialize Icons AFTER dynamic content is added
        lucide.createIcons();
    </script>
</body>
</html>
